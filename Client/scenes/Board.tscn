[gd_scene load_steps=31 format=3 uid="uid://c26uo3qsuk52o"]

[ext_resource type="Texture2D" uid="uid://bb4806jpsi4ih" path="res://assets/BG.png" id="1"]
[ext_resource type="Script" path="res://scripts/connection.gd" id="1_fj8bd"]
[ext_resource type="Texture2D" uid="uid://b5m5i2ebxexdn" path="res://assets/Assets.png" id="2"]
[ext_resource type="Texture2D" uid="uid://yura6j1gpc3t" path="res://assets/Chat.png" id="3_lv2ia"]
[ext_resource type="Texture2D" uid="uid://dmbnumv6to1uo" path="res://assets/PlainBG0.png" id="4_fau2b"]
[ext_resource type="Texture2D" uid="uid://uoley53qsjnk" path="res://assets/volume.png" id="5_o2bla"]
[ext_resource type="Texture2D" uid="uid://bfjytv4j2pjsy" path="res://assets/flag.png" id="6_xeyog"]
[ext_resource type="Texture2D" uid="uid://bl7yr228xlall" path="res://assets/newgame.png" id="7_ebyxp"]
[ext_resource type="Texture2D" uid="uid://bj1m8h3bsww2h" path="res://assets/takeback.png" id="7_n555h"]
[ext_resource type="Texture2D" uid="uid://cjfjdct65cxop" path="res://assets/timerHolder.png" id="7_uj45o"]
[ext_resource type="Texture2D" uid="uid://bao7kmvoo02lf" path="res://assets/status.png" id="8_bgf5t"]
[ext_resource type="Texture2D" uid="uid://be38ex6drmxyr" path="res://assets/historyback.png" id="8_vue6p"]
[ext_resource type="Texture2D" uid="uid://eejby5coduf7" path="res://assets/historylatest.png" id="9_05d0w"]
[ext_resource type="Texture2D" uid="uid://fx4trnvvbpja" path="res://assets/dancer.png" id="14_a06jh"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_0mpby"]
size = Vector2(12, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_18umx"]
size = Vector2(12, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_k7ykp"]
size = Vector2(12, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_wqsur"]
size = Vector2(12, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_43psk"]
size = Vector2(12, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_o5kof"]
size = Vector2(12, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_trk2y"]
size = Vector2(12, 12)

[sub_resource type="RectangleShape2D" id="RectangleShape2D_egj5u"]
size = Vector2(19.2, 19.2)

[sub_resource type="AudioStream" id="AudioStream_3dbg2"]

[sub_resource type="RectangleShape2D" id="RectangleShape2D_mlga8"]
size = Vector2(268, 544)

[sub_resource type="AtlasTexture" id="AtlasTexture_r0mla"]
atlas = ExtResource("14_a06jh")
region = Rect2(0, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_8r700"]
atlas = ExtResource("14_a06jh")
region = Rect2(16, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_0eisv"]
atlas = ExtResource("14_a06jh")
region = Rect2(32, 0, 16, 16)

[sub_resource type="AtlasTexture" id="AtlasTexture_8i7wm"]
atlas = ExtResource("14_a06jh")
region = Rect2(48, 0, 16, 16)

[sub_resource type="SpriteFrames" id="SpriteFrames_ebn4q"]
animations = [{
"frames": [{
"duration": 1.0,
"texture": SubResource("AtlasTexture_r0mla")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8r700")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_0eisv")
}, {
"duration": 1.0,
"texture": SubResource("AtlasTexture_8i7wm")
}],
"loop": true,
"name": &"default",
"speed": 1.0
}]

[sub_resource type="AudioStream" id="AudioStream_tng1j"]

[node name="Main" type="Node2D"]
script = ExtResource("1_fj8bd")

[node name="Board" type="Node2D" parent="."]
process_mode = 4

[node name="plainBG" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(350, 316)
texture = ExtResource("4_fau2b")

[node name="board" type="TextureRect" parent="Board"]
texture_filter = 1
offset_left = 112.0
offset_top = 44.0
offset_right = 380.0
offset_bottom = 588.0
mouse_default_cursor_shape = 2
texture = ExtResource("1")

[node name="ChatSp" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(540, 316)
texture = ExtResource("3_lv2ia")

[node name="Messagebox" type="LineEdit" parent="Board/ChatSp"]
texture_filter = 1
offset_left = -152.0
offset_top = 272.0
offset_right = 253.0
offset_bottom = 309.0
scale = Vector2(0.75, 0.75)
placeholder_text = "Send a Message"
max_length = 300

[node name="Chat" type="RichTextLabel" parent="Board/ChatSp"]
texture_filter = 2
offset_left = -143.0
offset_top = -278.0
offset_right = 240.0
offset_bottom = 443.0
scale = Vector2(0.75, 0.75)
focus_mode = 2
bbcode_enabled = true
scroll_following = true
selection_enabled = true

[node name="Limit" type="RichTextLabel" parent="Board/ChatSp"]
offset_left = 43.0
offset_top = 254.0
offset_right = 166.0
offset_bottom = 275.0
scale = Vector2(0.75, 0.75)
bbcode_enabled = true
text = "[right]0/300"

[node name="Mute" type="Area2D" parent="Board"]
position = Vector2(600, 26)

[node name="Volume" type="CollisionShape2D" parent="Board/Mute"]
shape = SubResource("RectangleShape2D_0mpby")

[node name="Mute" type="TextureRect" parent="Board/Mute"]
texture_filter = 1
offset_left = -6.0
offset_top = -6.0
offset_right = 6.0
offset_bottom = 6.0
tooltip_text = "Mute"
mouse_default_cursor_shape = 2
texture = ExtResource("5_o2bla")

[node name="Flag" type="Area2D" parent="Board"]
position = Vector2(410, 26)

[node name="Forfeit" type="CollisionShape2D" parent="Board/Flag"]
position = Vector2(-8, 0)
shape = SubResource("RectangleShape2D_18umx")

[node name="Flag" type="TextureRect" parent="Board/Flag"]
texture_filter = 1
offset_left = -14.0
offset_top = -6.0
offset_right = -2.0
offset_bottom = 6.0
tooltip_text = "Forfeit"
mouse_default_cursor_shape = 2
texture = ExtResource("6_xeyog")

[node name="NewGame" type="Area2D" parent="Board"]
position = Vector2(410, 26)

[node name="NewGame" type="CollisionShape2D" parent="Board/NewGame"]
position = Vector2(8, 0)
shape = SubResource("RectangleShape2D_k7ykp")

[node name="Plus" type="TextureRect" parent="Board/NewGame"]
texture_filter = 1
offset_left = 2.0
offset_top = -6.0
offset_right = 14.0
offset_bottom = 6.0
tooltip_text = "New Game"
mouse_default_cursor_shape = 2
texture = ExtResource("7_ebyxp")

[node name="timeline" type="Area2D" parent="Board"]
position = Vector2(656, 26)

[node name="<1" type="CollisionShape2D" parent="Board/timeline"]
position = Vector2(-24, 0)
shape = SubResource("RectangleShape2D_wqsur")

[node name="-1" type="CollisionShape2D" parent="Board/timeline"]
position = Vector2(-8, 0)
shape = SubResource("RectangleShape2D_43psk")

[node name="+1" type="CollisionShape2D" parent="Board/timeline"]
position = Vector2(8, 0)
shape = SubResource("RectangleShape2D_o5kof")

[node name="=-1" type="CollisionShape2D" parent="Board/timeline"]
position = Vector2(24, 0)
shape = SubResource("RectangleShape2D_trk2y")

[node name="takeback" type="TextureRect" parent="Board/timeline"]
texture_filter = 1
offset_left = -30.0
offset_top = -6.0
offset_right = -18.0
offset_bottom = 6.0
tooltip_text = "Takeback"
mouse_default_cursor_shape = 2
texture = ExtResource("7_n555h")

[node name="history-1" type="TextureRect" parent="Board/timeline"]
texture_filter = 1
offset_left = -14.0
offset_top = -6.0
offset_right = -2.0
offset_bottom = 6.0
tooltip_text = "Back"
mouse_default_cursor_shape = 2
texture = ExtResource("8_vue6p")

[node name="history+1" type="TextureRect" parent="Board/timeline"]
texture_filter = 1
offset_left = 2.0
offset_top = -6.0
offset_right = 14.0
offset_bottom = 6.0
tooltip_text = "Forward"
mouse_default_cursor_shape = 2
texture = ExtResource("8_vue6p")
flip_h = true

[node name="history=-" type="TextureRect" parent="Board/timeline"]
texture_filter = 1
offset_left = 18.0
offset_top = -6.0
offset_right = 30.0
offset_bottom = 6.0
tooltip_text = "Last"
mouse_default_cursor_shape = 2
texture = ExtResource("9_05d0w")
flip_h = true

[node name="Clock" type="Area2D" parent="Board"]

[node name="CollisionShape2D" type="CollisionShape2D" parent="Board/Clock"]
position = Vector2(40, 316)
scale = Vector2(2.5, 2.5)
shape = SubResource("RectangleShape2D_egj5u")

[node name="Clock" type="Sprite2D" parent="Board/Clock"]
texture_filter = 1
position = Vector2(40, 316)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(0, 64, 64, 64)

[node name="Audio" type="AudioStreamPlayer" parent="Board/Clock"]
stream = SubResource("AudioStream_3dbg2")

[node name="boardArea" type="Area2D" parent="Board"]

[node name="boardHitbox" type="CollisionShape2D" parent="Board/boardArea"]
position = Vector2(246, 316)
shape = SubResource("RectangleShape2D_mlga8")

[node name="Piece30" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(348, 556)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(0, 0, 64, 64)

[node name="Piece31" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(280, 556)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(0, 0, 64, 64)

[node name="Piece32" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(348, 488)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(0, 0, 64, 64)

[node name="Piece33" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(144, 76)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(0, 0, 64, 64)

[node name="Piece34" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(212, 76)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(0, 0, 64, 64)

[node name="Piece35" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(144, 144)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(0, 0, 64, 64)

[node name="Piece20" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(212, 556)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(64, 0, 64, 64)

[node name="Piece21" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(280, 488)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(64, 0, 64, 64)

[node name="Piece22" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(348, 420)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(64, 0, 64, 64)

[node name="Piece23" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(280, 76)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(64, 0, 64, 64)

[node name="Piece24" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(212, 144)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(64, 0, 64, 64)

[node name="Piece25" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(144, 212)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(64, 0, 64, 64)

[node name="Piece10" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(212, 488)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(128, 0, 64, 64)

[node name="Piece11" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(212, 420)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(128, 0, 64, 64)

[node name="Piece12" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(280, 420)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(128, 0, 64, 64)

[node name="Piece13" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(212, 212)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(128, 0, 64, 64)

[node name="Piece14" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(280, 144)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(128, 0, 64, 64)

[node name="Piece15" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(280, 212)
texture = ExtResource("2")
region_enabled = true
region_rect = Rect2(128, 0, 64, 64)

[node name="Selections" type="Node2D" parent="Board"]

[node name="Eval" type="RichTextLabel" parent="Board"]
modulate = Color(1, 1, 1, 0.784314)
texture_filter = 2
offset_left = 64.0
offset_top = 306.0
offset_right = 108.0
offset_bottom = 326.0
bbcode_enabled = true
text = "[right]0[/right]"

[node name="Holder0" type="Sprite2D" parent="Board"]
modulate = Color(0, 0, 0, 1)
texture_filter = 1
position = Vector2(225, 604)
scale = Vector2(3.60465, 0.750001)
texture = ExtResource("7_uj45o")

[node name="Score0" type="RichTextLabel" parent="Board"]
texture_filter = 2
offset_left = 74.0
offset_top = 597.0
offset_right = 456.0
offset_bottom = 618.0
scale = Vector2(0.8, 0.8)
bbcode_enabled = true
text = "[left]0[/left]"

[node name="Name0" type="RichTextLabel" parent="Board"]
texture_filter = 2
offset_left = 132.0
offset_top = 597.0
offset_right = 442.0
offset_bottom = 618.0
scale = Vector2(0.8, 0.8)
bbcode_enabled = true
text = "[left]You[/left]"

[node name="Time0" type="RichTextLabel" parent="Board"]
texture_filter = 2
offset_left = 116.0
offset_top = 597.0
offset_right = 441.0
offset_bottom = 618.0
scale = Vector2(0.8, 0.8)
bbcode_enabled = true
text = "[right]Inf[/right]"

[node name="Status0" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(122, 605)
texture = ExtResource("8_bgf5t")

[node name="Holder1" type="Sprite2D" parent="Board"]
modulate = Color(0, 0, 0, 1)
texture_filter = 1
position = Vector2(225, 28)
scale = Vector2(3.60451, 0.75)
texture = ExtResource("7_uj45o")

[node name="Score1" type="RichTextLabel" parent="Board"]
texture_filter = 2
offset_left = 74.0
offset_top = 20.0
offset_right = 456.0
offset_bottom = 41.0
scale = Vector2(0.8, 0.8)
bbcode_enabled = true
text = "[left]0[/left]"

[node name="Name1" type="RichTextLabel" parent="Board"]
texture_filter = 2
offset_left = 132.0
offset_top = 20.0
offset_right = 442.0
offset_bottom = 40.0
scale = Vector2(0.8, 0.8)
bbcode_enabled = true
text = "[left]Waiting...[/left]"

[node name="Time1" type="RichTextLabel" parent="Board"]
texture_filter = 2
offset_left = 116.0
offset_top = 20.0
offset_right = 441.0
offset_bottom = 40.0
scale = Vector2(0.8, 0.8)
bbcode_enabled = true
text = "[right]Inf[/right]"

[node name="Status1" type="Sprite2D" parent="Board"]
texture_filter = 1
position = Vector2(122, 28)
texture = ExtResource("8_bgf5t")

[node name="Timer0" type="Timer" parent="Board"]
one_shot = true

[node name="Timer1" type="Timer" parent="Board"]
one_shot = true

[node name="Typing" type="Timer" parent="Board"]
wait_time = 6.0

[node name="isTyping" type="RichTextLabel" parent="Board"]
visible = false
texture_filter = 2
offset_left = 392.0
offset_top = 572.0
offset_right = 784.0
offset_bottom = 597.0
scale = Vector2(0.6, 0.6)
bbcode_enabled = true
text = "is Typing[wave]...[/wave]"

[node name="Dancer" type="AnimatedSprite2D" parent="Board"]
texture_filter = 1
position = Vector2(40, 605)
scale = Vector2(2, 2)
sprite_frames = SubResource("SpriteFrames_ebn4q")
autoplay = "default"

[node name="Body" type="Node2D" parent="."]

[node name="Sprite" type="TextureRect" parent="Body"]
offset_right = 700.0
offset_bottom = 632.0
texture = ExtResource("4_fau2b")

[node name="AcceptDialog" type="AcceptDialog" parent="Body"]
auto_translate_mode = 1

[node name="ServerIP" type="LineEdit" parent="Body"]
texture_filter = 1
offset_left = 100.0
offset_top = 238.0
offset_right = 355.0
offset_bottom = 269.0
placeholder_text = "Server IP"

[node name="Port" type="LineEdit" parent="Body"]
texture_filter = 1
offset_left = 365.0
offset_top = 238.0
offset_right = 440.0
offset_bottom = 269.0
text = "31400"
placeholder_text = "Port"

[node name="Connect" type="Button" parent="Body"]
texture_filter = 1
offset_left = 450.0
offset_top = 238.0
offset_right = 600.0
offset_bottom = 269.0
text = "Connect"

[node name="Username" type="LineEdit" parent="Body"]
texture_filter = 1
offset_left = 100.0
offset_top = 279.0
offset_right = 600.0
offset_bottom = 310.0
placeholder_text = "Username"
metadata/_edit_use_anchors_ = true

[node name="Password" type="LineEdit" parent="Body"]
texture_filter = 1
offset_left = 100.0
offset_top = 320.0
offset_right = 600.0
offset_bottom = 351.0
placeholder_text = "Password"
metadata/_edit_use_anchors_ = true

[node name="Server" type="LineEdit" parent="Body"]
texture_filter = 1
offset_left = 101.0
offset_top = 360.0
offset_right = 601.0
offset_bottom = 391.0
placeholder_text = "Server Pass"
metadata/_edit_use_anchors_ = true

[node name="Enter" type="Button" parent="Body"]
texture_filter = 1
offset_left = 100.0
offset_top = 401.0
offset_right = 600.0
offset_bottom = 432.0
text = "ENTER"

[node name="Timer" type="Timer" parent="Body"]
wait_time = 5.0

[node name="Audio" type="AudioStreamPlayer" parent="."]
stream = SubResource("AudioStream_tng1j")

[connection signal="text_changed" from="Board/ChatSp/Messagebox" to="." method="_on_messagebox_text_changed"]
[connection signal="text_submitted" from="Board/ChatSp/Messagebox" to="." method="_on_messagebox_text_submitted"]
[connection signal="input_event" from="Board/Mute" to="." method="_on_mute_input_event"]
[connection signal="input_event" from="Board/Flag" to="." method="_on_flag_input_event"]
[connection signal="input_event" from="Board/NewGame" to="." method="_on_new_game_input_event"]
[connection signal="input_event" from="Board/timeline" to="." method="_on__input_event"]
[connection signal="input_event" from="Board/Clock" to="." method="_on_clock_input_event"]
[connection signal="input_event" from="Board/boardArea" to="." method="_on_board_area_input_event"]
[connection signal="timeout" from="Board/Typing" to="." method="_on_typing_timeout"]
[connection signal="text_submitted" from="Body/ServerIP" to="." method="_on_server_ip_text_submitted"]
[connection signal="text_submitted" from="Body/Port" to="." method="_on_port_text_submitted"]
[connection signal="pressed" from="Body/Connect" to="." method="_on_connect_pressed"]
[connection signal="text_submitted" from="Body/Username" to="." method="_on_username_text_submitted"]
[connection signal="text_submitted" from="Body/Password" to="." method="_on_password_text_submitted"]
[connection signal="text_submitted" from="Body/Server" to="." method="_on_server_text_submitted"]
[connection signal="pressed" from="Body/Enter" to="." method="_on_enter_pressed"]
[connection signal="timeout" from="Body/Timer" to="." method="_on_timer_timeout"]
